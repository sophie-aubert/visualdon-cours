<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>Cours 2 - Intro d3.js</title>

	<meta name="description" content="Introduction à la visualisation de données, aux outils et aux objectifs du cours">
	<meta name="author" content="Noemi Romano">

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="../reveal.js/dist/reset.css">
	<link rel="stylesheet" href="../reveal.js/dist/reveal.css">
	<link rel="stylesheet" href="../reveal.js/dist/theme/theme/simple.css" id="theme">
	<link rel="stylesheet" href="../reveal.js/dist/custom.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


	<!-- Theme used for syntax highlighting of code -->
	<link rel="stylesheet" href="../reveal.js/plugin/highlight/monokai.css">

</head>

<body>

	<div class="reveal">

		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">
			<!-- <img id='logo' src='img/logo.png'/> -->

			<section>

				<h2>Visualisation de données</h2>
				<code class="heig-red">2. Introduction à D3.js</code>

				<br>
				<br>

				<small id="current_date"></small>

				<script>
					date = new Date();
					year = date.getFullYear();
					month = date.getMonth() + 1;
					day = date.getDate();
					const options = {
						year: 'numeric',
						month: 'long',
						day: 'numeric'
					};
					document.getElementById("current_date").innerHTML = date.toLocaleDateString('fr-FR', options);
				</script>

				<br>
				<p>Noemi Romano<br>
					<small> <a href="mailto:noemi.romano@heig-vd.ch" style="color:grey">noemi.romano@heig-vd.ch</a></small> </p>
			</section>

			<section class="fragment">
				<h2>Semaine passée</h2>
				<p class="fragment"><span class="heig-red">Fonction</span> Explicative ou exploratoire <br></p>
				<p class="fragment"><span class="heig-red">Formes</span> Statique ou interactive <br> </p>
				<p class="fragment"><span class="heig-red">SVG</span> Formes, dessins et transformation </p>
			</section>


			<section>
					<iframe src="https://d3js.org/" width="800" height="550"></iframe>
			</section>

			<section>
				<h2>DOM</h2>
				<p><span class="heig-red">D</span>ocument <span class="heig-red">O</span>bject <span class="heig-red">M</span>odel</p>
				<small><blockquote>
					Le Document Object Model (DOM) est une interface de programmation normalisée par le W3C, qui permet à des scripts d'examiner et de modifier le contenu du navigateur web
				</blockquote></small>
				<p class="fragment">(en bref : structure hiérarchique de <code>HTML</code>)</p>
			</section>


			<section>
				<h2>Syntaxe</h2>
				<p>Chaînage de méthodes (fonctions)</p>

				<code>
					<span class="heig-red">objet</span>.methode1() <br>
						  .methode2() <br>
						  .methode3()
				</code>
				<pre><code >
					d3.select("body")
					  .append("p")
					  .text("Nouveau paragraphe")
				</code></pre>
			</section>


			<section>
				<h2>Sélecteurs</h2>

				<code><span class="heig-red">d3</span>.select(<em>sélecteur</em>)</code>
				<code><span class="heig-red">d3</span>.selectAll(<em>sélecteur</em>)</code>

				<br>
				<br>
				<small>
				<table>
					<table>
						<tr>
							<th></th>
							<th >CSS</th>
							<th >Exemple</th>
						</tr>
						<tr>
							<td>type</td>
							<td><code>element </code></td>
							<td><code>d3.select('h1')</code></td>
						</tr>
						<tr>
							<td >class</td>
							<td><code>.class</code></td>
							<td><code>d3.select('.class')</code></td>
						</tr>
						<td>identifiant</td>
						<td><code>#id</code></td>
						<td><code>d3.select('#id')</code></td>
						</tr>
					</table>
				</table>
				</small>
			</section>

			<section >
				<h2>Attributs</h2>

				<code>.attr('propriete','valeur')</code>
				<div  class="row no-margin-top">
				<div class="col-60">


				<pre><code data-trim data-line-numbers="9">
				<svg class = 'mon-svg'>
					<circle cx="50%" cy="50%" r="50">
					</circle>
				</svg>

				<script data-auto-animate>
					const svg = d3.select(".mon-svg");
					const cercle = svg.select("circle");
					cercle.attr("fill", "#E92528");
				</script>
				</code></pre>

				</div>

				<div class="col-40 fig-container no-margin-top" data-file="d3-exemples/cercle.html">
				</div>
				</div>
			</section>

			<section data-auto-animate>
				<h2>Attributs</h2>

				<code>.attr('propriete','valeur')</code>
				<div class="row no-margin-top">
					<div class="col-60">
				<pre><code data-trim  data-line-numbers="10">
				<svg class = 'mon-svg'>
					<circle cx="50%" cy="50%" r="50">
					</circle>
				</svg>

				<script>
					const svg = d3.select(".mon-svg");
					const cercle = svg.select("circle");
					cercle.attr("fill", "#E92528");
					cercle.attr("r", "100");
				</script>
				</code></pre>

					</div>
					<div class="col-40 fig-container no-margin-top" data-file="d3-exemples/cercle-2x.html"></div>

					element.setAttribute()
				</div>
			</section>


			<section>
				<h2>Append</h2>
				<code>selection.append("element-html")</code>
				<div class="row no-margin-top">
					<div class="col-60">

				<pre><code data-trim>
	<div class = 'mon-svg'></div>
	<script>
	const WIDTH = 300
    const HEIGHT = 100

    const div = d3.select(".mon-svg")
                .append("svg")
                .attr("width", WIDTH)
                .attr("height", HEIGHT)
                .append("circle")
                   .attr("cx", "30%")
                   .attr("cy", "40%")
                   .attr("r", "100")
	</script>
				</code></pre>
						</div>

				<div class="col-40 fig-container no-margin-top" data-file="d3-exemples/append.html"></div>
				</div>

			</section>


			<section>
				<h2>Événements</h2>
				<code>.on("event", fonctions)</code>
				<div class="row no-margin-top">
					<div class="col-60">
				<pre><code data-trim >
<svg class = 'mon-svg'>
	<circle cx="50%" cy="50%" r="100"></circle>
</svg>

<script>
	let r = 15
	const svg = d3.select(".mon-svg");
	const cercle = svg.select("circle")
	                  .attr("fill", "#E92528")
	                  .attr("r", r);
	cercle.on("click", () => {
	        r = r + 10;
	        cercle.attr("r", r);
	        } )
</script>
				</code></pre>

					</div>
					<div class="col-40 fig-container no-margin-top" data-file="d3-exemples/cercle-click.html"></div>

				</div>
			</section>


			<section>
			<h2>Joindre les données</h2>
				<code>.data(données).enter().do_something()</code>

				<div class="row no-margin-top">
					<div class="col-60">
<pre><code data-trim >


<div class = "my-div"></div>

<script>

  const data = [4, 6, 2, 8, 1]

  const myDiv = d3.select(".my-div");
  const ul = myDiv.append("ul");

  ul.selectAll("li")
    .data(data)
    .enter()
    .append("li")
    .text((d,i) => 'Valeur: ' + d + ', Index: ' + i)

</script>
</code>
</pre>
					</div>

				<div class="col-40 fig-container no-margin-top" data-file="d3-exemples/bind.html"></div>

				</div>
			</section>

			<section>

				<h2>Types de données</h2>
				<div class="row">
					<div class="col-50">
						<p class="heig-red"><b>Qualitatives</b></p>
						<ul>
							<li>Nominales</li>
							<li>Ordinales</li>
						</ul>
					</div>
					<div class="col-50">
						<p class="heig-red"><b>Quantitatives</b></p>
						<ul>
							<li>Discrètes</li>
							<li>Continues</li>
						</ul>
					</div>


				</div>
				<img src="img/qualitative_quantitative.png" alt="" height="300"> <br>

			</section>

			<section>
				<h2>Projet</h2>
				<div class="row">
					<div class="col-60">
				<h4 ><span class="heig-red">Thématique (11 mars)</span></h4>
						<ul>
				<li>Trouver un jeu de données </li>
				<li>Créer un dossier github pour le projet</li>
				<li>Suivre directives <a href="https://github.com/romanoe/visualdon-22/tree/main/projet">ici</a> </li>
						</ul>
					</div>

					<div class="col-40">
						<img src="img/data.gif" alt=""> <br>
					</div>
			</section>




			<section>
				<h2>Exercices</h2>
				<p><span class="heig-red">Rajouter dossier du cours en upstream</span> <br> <small><code>git remote add upstream git@github.com:romanoe/visualdon-22.git</code></p></small>
				<p><span class="heig-red">Mettre à jour</span> <br> <small><code>git fetch upstream</code></p></small>
			</section>

		</div>

	</div>

	<script src="../reveal.js/dist/reveal.js"></script>
	<script src="../reveal.js/plugin/zoom/zoom.js"></script>
	<script src="../reveal.js/plugin/notes/notes.js"></script>
	<script src="../reveal.js/plugin/search/search.js"></script>
	<script src="../reveal.js/plugin/markdown/markdown.js"></script>
    <script src="../reveal.js/plugin/highlight/highlight.js"></script>
    <script src="../reveal.js/plugin/d3/reveald3.js"></script>
	<script>
		// Make reveal.js aware of the size change
		// Reveal.layout();

		// Also available as an ES module, see:
		// https://revealjs.com/initialization/
		Reveal.initialize({
			controls: true,
			progress: true,
			center: true,
			hash: false,
			slideNumber: true,
			logo: true,
			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight],
			// // optional configurations for reveald3
    reveald3: {

         // If the previous slide is a slide further in the deck (i.e. we come back to
         // slide from the next slide), by default the last fragment transition will be
         // triggered to to get the last state of the visualization and simulate the
         // the state the simulation was in when we left the slide. This can be
         // discarded.
         runLastState: true, //default true

         // If a special onSlideChanged transition has been set (if for example the visualization
         // has been preloaded using the data-preload attribute, and you want a specific transition
         // to happen only when you arrive on the slide), you can choose the delay with which such
         // a transition will occur (note that in the case of no data-preload, if no delay is set then
         // the transition might not occur since the iframe might not be fully loaded yet when the
         // function is triggered). // default 0.
         onSlideChangedDelay: 400,

         // This will prefix the path attributes of the source html paths with the given path.
         // (by default "src" if set to true or with the specified path if string)
         mapPath: false, // default: false

         // If true, will try to locate the file at a fallback url without the mapPath prefix in case no file is found
         // at the stipulated url with mapPath
         tryFallbackURL: false, //default false

         // Checking for file existance has been reported to fail in rare
         // cases though files did exist. This option is to disable the file checking.
         //see: https://github.com/gcalmettes/reveal.js-d3/issues/10
         disableCheckFile: false, //default false,
    },

    // Reveal.js plugins
    dependencies: [

        { src: '../reveal.js/plugin/d3/reveald3.js' },

    ]
		});
	</script>

</body>

</html>
